
static int ln_tab[256]={
    0, 36, 74, 113, 154, 197, 240, 286, 333, 382, 433, 485, 539, 596, 654, 715, 
    778, 843, 910, 980, 1053, 1128, 1206, 1287, 1371, 1458, 1548, 1641, 1738, 1838, 1942, 2050, 
    2162, 2278, 2398, 2522, 2651, 2785, 2924, 3067, 3216, 3371, 3531, 3697, 3869, 4048, 4232, 4424, 
    4623, 4829, 5042, 5264, 5493, 5731, 5978, 6233, 6498, 6773, 7058, 7353, 7659, 7976, 8305, 8646, 

    9000, 9366, 9746, 10139, 10547, 10970, 11409, 11863, 12335, 12823, 13330, 13855, 14399, 14963, 15548, 16154, 
    16782, 17434, 18109, 18809, 19535, 20287, 21067, 21875, 22713, 23582, 24482, 25416, 26384, 27387, 28427, 29505, 
    30622, 31781, 32982, 34226, 35517, 36855, 38241, 39679, 41169, 42714, 44315, 45975, 47696, 49480, 51329, 53246, 
    55234, 57294, 59429, 61643, 63938, 66317, 68783, 71339, 73989, 76736, 79584, 82536, 85596, 88768, 92057, 95466, 

    99000, 102663, 106460, 110397, 114478, 118708, 123093, 127639, 132352, 137237, 142301, 147550, 152992, 158633, 164481, 170543, 
    176827, 183342, 190095, 197095, 204352, 211875, 219673, 227757, 236137, 244824, 253829, 263164, 272841, 282873, 293272, 304052, 
    315227, 326812, 338820, 351269, 364174, 377551, 391418, 405794, 420696, 436144, 452158, 468758, 485967, 503806, 522299, 541469, 
    561341, 581941, 603296, 625433, 648381, 672170, 696830, 722394, 748894, 776365, 804842, 834362, 864964, 896687, 929572, 963661, 

    999000, 1035632, 1073607, 1112973, 1153782, 1196085, 1239937, 1285397, 1332521, 1381372, 1432012, 1484508, 1538926, 1595338, 1653817, 1714437, 
    1777279, 1842423, 1909953, 1979956, 2052525, 2127751, 2205734, 2286573, 2370373, 2457244, 2547296, 2640648, 2737419, 2837736, 2941727, 3049528, 
    3161277, 3277121, 3397208, 3521694, 3650741, 3784515, 3923189, 4066944, 4215965, 4370445, 4530583, 4696589, 4868675, 5047065, 5231991, 5423691, 
    5622413, 5828415, 6041964, 6263335, 6492816, 6730704, 6977306, 7232941, 7497942, 7772650, 8057422, 8352625, 8658643, 8975871, 9304720, 9645616
};

static int ln_search(int x){
    int min=0;
    int max=256;
    if(x<ln_tab[128]) max=128; else min=128;
    if(x<ln_tab[min+64]) max-=64; else min+=64;
    if(x<ln_tab[min+32]) max-=32; else min+=32;
    if(x<ln_tab[min+16]) max-=16; else min+=16;
    // max-min==16
    if(x<ln_tab[min+8]) max-=8; else min+=8;
    if(x<ln_tab[min+4]) max-=4; else min+=4;
    if(x<ln_tab[min+2]) max-=2; else min+=2;
    if(x<ln_tab[min+1]) max-=1;// else min+=1;
    return max;
}

extern float exp10f(float x);

static int ln_calc(float i){
    int x=exp10f(i/64.0+3)-1000;
    return x;
}
